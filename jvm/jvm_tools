1.查看所有Java进程：jps
2.导出Java Heap镜像: jmap -dump:format=b,file=[filename] [pid]
3.查看GC情况: jstat -gcutil [pid] [间隔时间2s] [查看多少次]
4.查看堆的使用状况信息 jmap -heap [pid] 
5.查看堆中大对象:jmap -histo  [pid]| head -n 10
查看线程堆栈: jstack [pid]
查看jvm参数:jinfo [pid]
获取HeadDump其他方法:
-XX:+HeapDumpOnOutOfMemoryError
-XX:+HeapDumpOnCtrlBreak
MAT命令:
-Xms6144m
-Xmx8192m
-XX:+UseConcMarkSweepGC
-XX:+UseParNewGC
-XX:+CMSParallelRemarkEnabled
-XX:+CMSClassUnloadingEnabled
-XX:+UseCMSInitiatingOccupancyOnly

./ParseHeapDump.sh /opt/heap_dump/jvm.hprof org.eclipse.mat.api:suspects
./ParseHeapDump.sh /opt/heap_dump/jvm.hprof org.eclipse.mat.api:overview
./ParseHeapDump.sh /opt/heap_dump/jvm.hprof org.eclipse.mat.api:top_components

如果环境上没有安装jdk,那把libattach.so和tools.jar单独抠出来放到lib目录：分别执行以下命令:
java  -Djava.library.path=lib -classpath lib/tools.jar sun.tools.jstat.Jstat
java  -Djava.library.path=lib -classpath lib/tools.jar sun.tools.jstack.JStack 
java  -Djava.library.path=lib -classpath lib/tools.jar sun.tools.jmap.JMap
java  -Djava.library.path=lib -classpath lib/tools.jar sun.tools.jps.Jps

